@using MauiApp1.Components.DB
@inject DBService db

<div class="tool-container">
    <!-- header bar -->
    <div class="tool-header">Tool</div>

    <button @onclick="Save">Save</button>

    <!-- form -->
    <form class="tool-form">

        <!-- Tool ID – volle Breite -->
        <div class="form-row full">
            <label for="tool-id">Tool ID:</label>
            <div class="input-group">
                <input @bind="toolId" type="number" id="tool-id" readonly>
                <span class="help-icon">?</span>
            </div>
        </div>

        <!-- Tool ShortName -->
        <div class="form-row">
            <label for="tool-shortname">Tool ShortName:</label>
            <div class="input-group">
                <input @bind="toolShortname" type="text" id="tool-shortname" placeholder="Tool 1" maxlength="16">
                <span class="help-icon">?</span>
            </div>
        </div>

        <!-- Tool Class -->
        <div class="form-row">
            <label for="tool-class">Tool Class:</label>
            <div class="input-group">
                <select  id="tool-class">
                    <option value="">Select…</option>
                    <!-- … -->
                </select>
                <span class="help-icon">?</span>
            </div>
        </div>

        <!-- Tool Description -->
        <div class="form-row">
            <label for="tool-description">Tool Description:</label>
            <div class="input-group">
                <textarea @bind="toolDescription" id="tool-description" rows="4" maxlength="100"></textarea>
                <span class="help-icon">?</span>
            </div>
        </div>

        <!-- Tool Type -->
        <div class="form-row">
            <label for="tool-type">Tool Type:</label>
            <div class="input-group">
                <select  id="tool-type">
                    <option value="">Select…</option>
                </select>
                <span class="help-icon">?</span>
            </div>
        </div>

    </form>
</div>


@code {
    public string toolShortname;
    public string toolDescription;


    [Parameter]
    public int toolId { get; set; }

    protected override void OnInitialized()
    {
        var tool = db.GetToolInfo(toolId);
        
        
            toolShortname = tool.toolShortname;
            toolDescription = tool.toolDescription;
        
    }

    protected override void OnParametersSet()
    {
        var tool = db.GetToolInfo(toolId);
        
        
            toolShortname = tool.toolShortname;
            toolDescription = tool.toolDescription;
        
    }







    private void Save()
    {
        //db.AddOrUpdateTool();
    }

}